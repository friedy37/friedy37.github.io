(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{415:function(s,n,a){"use strict";a.r(n);var e=a(4),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"p14、集成-swagger-终极版"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#p14、集成-swagger-终极版"}},[s._v("#")]),s._v(" P14、集成 Swagger 终极版")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/12ed84cb478a56d22d0565d3feddd26e.png",alt:""}})]),s._v(" "),n("p",[n("strong",[s._v("学习目标：")])]),s._v(" "),n("ul",[n("li",[s._v("了解 Swagger 的概念及作用")]),s._v(" "),n("li",[s._v("掌握在项目中集成 Swagger 自动生成 API 文档")])]),s._v(" "),n("h3",{attrs:{id:"_14-1、swagger-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-1、swagger-简介"}},[s._v("#")]),s._v(" 14.1、Swagger 简介")]),s._v(" "),n("p",[n("strong",[s._v("前后端分离")])]),s._v(" "),n("ul",[n("li",[s._v("前端 -> 前端控制层、视图层")]),s._v(" "),n("li",[s._v("后端 -> 后端控制层、服务层、数据访问层")]),s._v(" "),n("li",[s._v("前后端通过 API 进行交互")]),s._v(" "),n("li",[s._v("前后端相对独立且松耦合")])]),s._v(" "),n("p",[n("strong",[s._v("产生的问题")])]),s._v(" "),n("ul",[n("li",[s._v("前后端集成，前端或者后端无法做到 “及时协商，尽早解决”，最终导致问题集中爆发")])]),s._v(" "),n("p",[n("strong",[s._v("解决方案")])]),s._v(" "),n("ul",[n("li",[s._v("首先定义 schema [计划的提纲]，并实时跟踪最新的 API，降低集成风险")])]),s._v(" "),n("p",[n("strong",[s._v("Swagger")])]),s._v(" "),n("ul",[n("li",[s._v("号称世界上最流行的 API 框架")]),s._v(" "),n("li",[s._v("Restful Api 文档在线自动生成器 => "),n("strong",[s._v("API 文档 与 API 定义同步更新")])]),s._v(" "),n("li",[s._v("直接运行，在线测试 API")]),s._v(" "),n("li",[s._v("支持多种语言 （如：Java，PHP 等）")]),s._v(" "),n("li",[s._v("官网：https://swagger.io/")])]),s._v(" "),n("h3",{attrs:{id:"_14-2、springboot-集成-swagger"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-2、springboot-集成-swagger"}},[s._v("#")]),s._v(" 14.2、SpringBoot 集成 Swagger")]),s._v(" "),n("p",[n("strong",[s._v("SpringBoot 集成 Swagger")]),s._v(" => "),n("strong",[s._v("springfox")]),s._v("，两个 jar 包")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Springfox-swagger2")])]),s._v(" "),n("li",[s._v("swagger-springmvc")])]),s._v(" "),n("p",[n("strong",[s._v("使用 Swagger")])]),s._v(" "),n("p",[s._v("要求：jdk 1.8 + 否则 swagger2 无法运行")]),s._v(" "),n("p",[s._v("步骤：")]),s._v(" "),n("p",[s._v("1、新建一个 SpringBoot-web 项目")]),s._v(" "),n("p",[s._v("2、添加 Maven 依赖")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\x3c!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --\x3e\n<dependency>\n   <groupId>io.springfox</groupId>\n   <artifactId>springfox-swagger2</artifactId>\n   <version>2.9.2</version>\n</dependency>\n\x3c!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --\x3e\n<dependency>\n   <groupId>io.springfox</groupId>\n   <artifactId>springfox-swagger-ui</artifactId>\n   <version>2.9.2</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("3、编写 HelloController，测试确保运行成功！")]),s._v(" "),n("p",[s._v("4、要使用 Swagger，我们需要编写一个配置类 - SwaggerConfig 来配置 Swagger")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("@Configuration //配置类\n@EnableSwagger2// 开启Swagger2的自动配置\npublic class SwaggerConfig {  \n}j\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("5、访问测试 ：http://localhost:8080/swagger-ui.html ，可以看到 swagger 的界面；")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/492bb4b3a2ee560d9e6bd022d5861361.png",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_14-3、配置-swagger"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-3、配置-swagger"}},[s._v("#")]),s._v(" 14.3、配置 Swagger")]),s._v(" "),n("p",[s._v("1、Swagger 实例 Bean 是 Docket，所以通过配置 Docket 实例来配置 Swaggger。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("@Bean //配置docket以配置Swagger具体参数\npublic Docket docket() {\n   return new Docket(DocumentationType.SWAGGER_2);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("2、可以通过 apiInfo() 属性配置文档信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//配置文档信息\nprivate ApiInfo apiInfo() {\n   Contact contact = new Contact("联系人名字", "http://xxx.xxx.com/联系人访问链接", "联系人邮箱");\n   return new ApiInfo(\n           "Swagger学习", // 标题\n           "学习演示如何配置Swagger", // 描述\n           "v1.0", // 版本\n           "http://terms.service.url/组织链接", // 组织链接\n           contact, // 联系人信息\n           "Apach 2.0 许可", // 许可\n           "许可链接", // 许可连接\n           new ArrayList<>()// 扩展\n  );\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("3、Docket 实例关联上 apiInfo()")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("@Bean\npublic Docket docket() {\n   return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo());\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("4、重启项目，访问测试 http://localhost:8080/swagger-ui.html 看下效果；")]),s._v(" "),n("h3",{attrs:{id:"_14-4、配置扫描接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-4、配置扫描接口"}},[s._v("#")]),s._v(" 14.4、配置扫描接口")]),s._v(" "),n("p",[s._v("1、构建 Docket 时通过 select() 方法配置怎么扫描接口。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("any() // 扫描所有，项目中的所有接口都会被扫描到\nnone() // 不扫描接口\n// 通过方法上的注解扫描，如withMethodAnnotation(GetMapping.class)只扫描get请求\nwithMethodAnnotation(final Class<? extends Annotation> annotation)\n// 通过类上的注解扫描，如.withClassAnnotation(Controller.class)只扫描有controller注解的类中的接口\nwithClassAnnotation(final Class<? extends Annotation> annotation)\nbasePackage(final String basePackage) // 根据包路径扫描接口\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("2、重启项目测试，由于我们配置根据包的路径扫描接口，所以我们只能看到一个类")]),s._v(" "),n("p",[s._v("3、除了通过包路径配置扫描接口外，还可以通过配置其他方式扫描接口，这里注释一下所有的配置方式：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("any() // 扫描所有，项目中的所有接口都会被扫描到\nnone() // 不扫描接口\n// 通过方法上的注解扫描，如withMethodAnnotation(GetMapping.class)只扫描get请求\nwithMethodAnnotation(final Class<? extends Annotation> annotation)\n// 通过类上的注解扫描，如.withClassAnnotation(Controller.class)只扫描有controller注解的类中的接口\nwithClassAnnotation(final Class<? extends Annotation> annotation)\nbasePackage(final String basePackage) // 根据包路径扫描接口\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("4、除此之外，我们还可以配置接口扫描过滤：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Bean\npublic Docket docket() {\n   return new Docket(DocumentationType.SWAGGER_2)\n      .apiInfo(apiInfo())\n      .select()// 通过.select()方法，去配置扫描接口,RequestHandlerSelectors配置如何扫描接口\n      .apis(RequestHandlerSelectors.basePackage("com.kuang.swagger.controller"))\n       // 配置如何通过path过滤,即这里只扫描请求以/kuang开头的接口\n      .paths(PathSelectors.ant("/kuang/**"))\n      .build();\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("5、这里的可选值还有")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("any() // 任何请求都扫描\nnone() // 任何请求都不扫描\nregex(final String pathRegex) // 通过正则表达式控制\nant(final String antPattern) // 通过ant()控制\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/14d62bb94d49b004b47fc263de40cc94.png",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_14-5、配置-swagger-开关"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-5、配置-swagger-开关"}},[s._v("#")]),s._v(" 14.5、配置 Swagger 开关")]),s._v(" "),n("p",[s._v("1、通过 enable() 方法配置是否启用 swagger，如果是 false，swagger 将不能在浏览器中访问了")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Bean\npublic Docket docket() {\n   return new Docket(DocumentationType.SWAGGER_2)\n      .apiInfo(apiInfo())\n      .enable(false) //配置是否启用Swagger，如果是false，在浏览器将无法访问\n      .select()// 通过.select()方法，去配置扫描接口,RequestHandlerSelectors配置如何扫描接口\n      .apis(RequestHandlerSelectors.basePackage("com.kuang.swagger.controller"))\n       // 配置如何通过path过滤,即这里只扫描请求以/kuang开头的接口\n      .paths(PathSelectors.ant("/kuang/**"))\n      .build();\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("2、如何动态配置当项目处于 test、dev 环境时显示 swagger，处于 prod 时不显示？")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Bean\npublic Docket docket(Environment environment) {\n   // 设置要显示swagger的环境\n   Profiles of = Profiles.of("dev", "test");\n   // 判断当前是否处于该环境\n   // 通过 enable() 接收此参数判断是否要显示\n   boolean b = environment.acceptsProfiles(of);\n   \n   return new Docket(DocumentationType.SWAGGER_2)\n      .apiInfo(apiInfo())\n      .enable(b) //配置是否启用Swagger，如果是false，在浏览器将无法访问\n      .select()// 通过.select()方法，去配置扫描接口,RequestHandlerSelectors配置如何扫描接口\n      .apis(RequestHandlerSelectors.basePackage("com.kuang.swagger.controller"))\n       // 配置如何通过path过滤,即这里只扫描请求以/kuang开头的接口\n      .paths(PathSelectors.ant("/kuang/**"))\n      .build();\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("3、可以在项目中增加一个 dev 的配置文件查看效果！")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/44b9ae10d370c42aa8ba007bf59c5484.png",alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_14-6、配置-api-分组"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-6、配置-api-分组"}},[s._v("#")]),s._v(" 14.6、配置 API 分组")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/0ab111afc4a0fadccf05a6e48bce7d35.png",alt:""}})]),s._v(" "),n("p",[s._v("1、如果没有配置分组，默认是 default。通过 groupName() 方法即可配置分组：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Bean\npublic Docket docket(Environment environment) {\n   return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo())\n      .groupName("hello") // 配置分组\n       // 省略配置....\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("2、重启项目查看分组")]),s._v(" "),n("p",[s._v("3、如何配置多个分组？配置多个分组只需要配置多个 docket 即可：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Bean\npublic Docket docket1(){\n   return new Docket(DocumentationType.SWAGGER_2).groupName("group1");\n}\n@Bean\npublic Docket docket2(){\n   return new Docket(DocumentationType.SWAGGER_2).groupName("group2");\n}\n@Bean\npublic Docket docket3(){\n   return new Docket(DocumentationType.SWAGGER_2).groupName("group3");\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("4、重启项目查看即可")]),s._v(" "),n("h3",{attrs:{id:"_14-7、实体配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-7、实体配置"}},[s._v("#")]),s._v(" 14.7、实体配置")]),s._v(" "),n("p",[s._v("1、新建一个实体类")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@ApiModel("用户实体")\npublic class User {\n   @ApiModelProperty("用户名")\n   public String username;\n   @ApiModelProperty("密码")\n   public String password;\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("2、只要这个实体在"),n("strong",[s._v("请求接口")]),s._v("的返回值上（即使是泛型），都能映射到实体项中：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@RequestMapping("/getUser")\npublic User getUser(){   \n\treturn new User();\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("3、重启查看测试")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/7944265d2423c309830a7d5fc41b3198.png",alt:""}})]),s._v(" "),n("p",[s._v("注：并不是因为 @ApiModel 这个注解让实体显示在这里了，而是只要出现在接口方法的返回值上的实体都会显示在这里，而 @ApiModel 和 @ApiModelProperty 这两个注解只是为实体添加注释的。")]),s._v(" "),n("p",[s._v("@ApiModel 为类添加注释")]),s._v(" "),n("p",[s._v("@ApiModelProperty 为类属性添加注释")]),s._v(" "),n("h3",{attrs:{id:"_14-8、常用注解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-8、常用注解"}},[s._v("#")]),s._v(" 14.8、常用注解")]),s._v(" "),n("p",[s._v("Swagger 的所有注解定义在 io.swagger.annotations 包下")]),s._v(" "),n("p",[s._v("下面列一些经常用到的，未列举出来的可以另行查阅说明：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("Swagger 注解")]),n("th",[s._v("简单说明")])])]),n("tbody",[n("tr",[n("td",[s._v("@Api(tags = “xxx 模块说明”)")]),n("td",[s._v("作用在模块类上")])]),n("tr",[n("td",[s._v("@ApiOperation(“xxx 接口说明”)")]),n("td",[s._v("作用在接口方法上")])]),n("tr",[n("td",[s._v("@ApiModel(“xxxPOJO 说明”)")]),n("td",[s._v("作用在模型类上：如 VO、BO")])]),n("tr",[n("td",[s._v("@ApiModelProperty(value = “xxx 属性说明”,hidden = true)")]),n("td",[s._v("作用在类方法和属性上，hidden 设置为 true 可以隐藏该属性")])]),n("tr",[n("td",[s._v("@ApiParam(“xxx 参数说明”)")]),n("td",[s._v("作用在参数、方法和字段上，类似 @ApiModelProperty")])])])]),s._v(" "),n("p",[s._v("我们也可以给请求的接口配置一些注释")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@ApiOperation("狂神的接口")\n@PostMapping("/kuang")\n@ResponseBody\npublic String kuang(@ApiParam("这个名字会被返回")String username){\n   return username;\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("这样的话，可以给一些比较难理解的属性或者接口，增加一些配置信息，让人更容易阅读！")]),s._v(" "),n("p",[s._v("相较于传统的 Postman 或 Curl 方式测试接口，使用 swagger 简直就是傻瓜式操作，不需要额外说明文档 (写得好本身就是文档) 而且更不容易出错，只需要录入数据然后点击 Execute，如果再配合自动化框架，可以说基本就不需要人为操作了。")]),s._v(" "),n("p",[s._v("Swagger 是个优秀的工具，现在国内已经有很多的中小型互联网公司都在使用它，相较于传统的要先出 Word 接口文档再测试的方式，显然这样也更符合现在的快速迭代开发行情。当然了，提醒下大家在正式环境要记得关闭 Swagger，一来出于安全考虑二来也可以节省运行时内存。")]),s._v(" "),n("h3",{attrs:{id:"_14-9、拓展-其他皮肤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-9、拓展-其他皮肤"}},[s._v("#")]),s._v(" 14.9、拓展：其他皮肤")]),s._v(" "),n("p",[s._v("我们可以导入不同的包实现不同的皮肤定义：")]),s._v(" "),n("p",[s._v("1、默认的 "),n("strong",[s._v("访问 http://localhost:8080/swagger-ui.html")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<dependency> \n   <groupId>io.springfox</groupId>\n   <artifactId>springfox-swagger-ui</artifactId>\n   <version>2.9.2</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/a239787cc74bf762cfc01881088fbe8c.png",alt:""}})]),s._v(" "),n("p",[s._v("2、bootstrap-ui "),n("strong",[s._v("访问 http://localhost:8080/doc.html")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\x3c!-- 引入swagger-bootstrap-ui包 /doc.html--\x3e\n<dependency>\n   <groupId>com.github.xiaoymin</groupId>\n   <artifactId>swagger-bootstrap-ui</artifactId>\n   <version>1.9.1</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/4b5607bfdc22b68c160ed314fc71020b.png",alt:""}})]),s._v(" "),n("p",[s._v("3、Layui-ui "),n("strong",[s._v("访问 http://localhost:8080/docs.html")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\x3c!-- 引入swagger-ui-layer包 /docs.html--\x3e\n<dependency>\n   <groupId>com.github.caspar-chen</groupId>\n   <artifactId>swagger-ui-layer</artifactId>\n   <version>1.1.3</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/77058260c3fb24f010e712cf549847d3.png",alt:""}})]),s._v(" "),n("p",[s._v("4、mg-ui "),n("strong",[s._v("访问 http://localhost:8080/document.html")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\x3c!-- 引入swagger-ui-layer包 /document.html--\x3e\n<dependency>\n   <groupId>com.zyplayer</groupId>\n   <artifactId>swagger-mg-ui</artifactId>\n   <version>1.0.6</version>\n</dependency>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/12a9f9a7515755ea1147069b2993ca53.png",alt:""}})])])}),[],!1,null,null,null);n.default=t.exports}}]);