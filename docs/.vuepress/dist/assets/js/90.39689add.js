(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{411:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"p16、富文本编辑器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#p16、富文本编辑器"}},[s._v("#")]),s._v(" P16、富文本编辑器")]),s._v(" "),n("h3",{attrs:{id:"_16-1、简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-1、简介"}},[s._v("#")]),s._v(" 16.1、简介")]),s._v(" "),n("p",[s._v("思考：我们平时在博客园，或者 CSDN 等平台进行写作的时候，有同学思考过他们的编辑器是怎么实现的吗？")]),s._v(" "),n("p",[s._v("在博客园后台的选项设置中，可以看到一个文本编辑器的选项：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/06e597f1bee829b195cd193a1ff7fdd6.png",alt:""}})]),s._v(" "),n("p",[s._v("其实这个就是富文本编辑器，市面上有许多非常成熟的富文本编辑器，比如：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Editor.md")]),s._v("——功能非常丰富的编辑器，左端编辑，右端预览，非常方便，完全免费")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://pandao.github.io/editor.md/")])])]),s._v(" "),n("li",[n("strong",[s._v("wangEditor")]),s._v("——基于 javascript 和 css 开发的 Web 富文本编辑器， 轻量、简洁、界面美观、易用、开源免费。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：http://www.wangeditor.com/")])])]),s._v(" "),n("li",[n("strong",[s._v("TinyMCE")]),s._v("——TinyMCE 是一个轻量级的基于浏览器的所见即所得编辑器，由 JavaScript 写成。它对 IE6 + 和 Firefox1.5 + 都有着非常良好的支持。功能齐全，界面美观，就是文档是英文的，对开发人员英文水平有一定要求。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://www.tiny.cloud/docs/demo/full-featured/")]),s._v(" "),n("li",[s._v("博客园")])])]),s._v(" "),n("li",[n("strong",[s._v("百度 ueditor")]),s._v("——UEditor 是由百度 web 前端研发部开发所见即所得富文本 web 编辑器，具有轻量，功能齐全，可定制，注重用户体验等特点，开源基于 MIT 协议，允许自由使用和修改代码，缺点是已经没有更新了")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://ueditor.baidu.com/website/onlinedemo.html")])])]),s._v(" "),n("li",[n("strong",[s._v("kindeditor")]),s._v("——界面经典。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：http://kindeditor.net/demo.php")])])]),s._v(" "),n("li",[n("strong",[s._v("Textbox")]),s._v("——Textbox 是一款极简但功能强大的在线文本编辑器，支持桌面设备和移动设备。主要功能包含内置的图像处理和存储、文件拖放、拼写检查和自动更正。此外，该工具还实现了屏幕阅读器等辅助技术，并符合 WAI-ARIA 可访问性标准。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://textbox.io/")])])]),s._v(" "),n("li",[n("strong",[s._v("CKEditor")]),s._v("——国外的，界面美观。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://ckeditor.com/ckeditor-5/demo/")])])]),s._v(" "),n("li",[n("strong",[s._v("quill")]),s._v("——功能强大，还可以编辑公式等")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://quilljs.com/")])])]),s._v(" "),n("li",[n("strong",[s._v("simditor")]),s._v("——界面美观，功能较全。")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://simditor.tower.im/")])])]),s._v(" "),n("li",[n("strong",[s._v("summernote")]),s._v("——UI 好看，精美")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://summernote.org/")])])]),s._v(" "),n("li",[n("strong",[s._v("jodit")]),s._v("——功能齐全")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://xdsoft.net/jodit/")])])]),s._v(" "),n("li",[n("strong",[s._v("froala Editor")]),s._v("——界面非常好看，功能非常强大，非常好用（非免费）")]),s._v(" "),n("li",[n("ul",[n("li",[s._v("官网：https://www.froala.com/wysiwyg-editor")])])])]),s._v(" "),n("p",[s._v("总之，目前可用的富文本编辑器有很多… 这只是其中的一部分")]),s._v(" "),n("h3",{attrs:{id:"_16-2、editor-md"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-2、editor-md"}},[s._v("#")]),s._v(" 16.2、Editor.md")]),s._v(" "),n("p",[s._v("我这里使用的就是 Editor.md，作为一个资深码农，Mardown 必然是我们程序猿最喜欢的格式，看下面，就爱上了！")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/1bbbb8ab091585d942c623ff68d3f60e.png",alt:""}})]),s._v(" "),n("p",[s._v("我们可以在官网下载它：https://pandao.github.io/editor.md/ ， 得到它的压缩包！")]),s._v(" "),n("p",[s._v("解压以后，在 examples 目录下面，可以看到他的很多案例使用！学习，其实就是看人家怎么写的，然后进行模仿就好了！")]),s._v(" "),n("p",[s._v("我们可以将整个解压的文件倒入我们的项目，将一些无用的测试和案例删掉即可！")]),s._v(" "),n("h3",{attrs:{id:"_16-3、基础工程搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-3、基础工程搭建"}},[s._v("#")]),s._v(" 16.3、基础工程搭建")]),s._v(" "),n("blockquote",[n("p",[s._v("数据库设计")])]),s._v(" "),n("p",[s._v("article：文章表")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("字段")]),n("th"),n("th",[s._v("备注")])])]),n("tbody",[n("tr",[n("td",[s._v("id")]),n("td",[s._v("int")]),n("td",[s._v("文章的唯一 ID")])]),n("tr",[n("td",[s._v("author")]),n("td",[s._v("varchar")]),n("td",[s._v("作者")])]),n("tr",[n("td",[s._v("title")]),n("td",[s._v("varchar")]),n("td",[s._v("标题")])]),n("tr",[n("td",[s._v("content")]),n("td",[s._v("longtext")]),n("td",[s._v("文章的内容")])])])]),s._v(" "),n("p",[s._v("建表 SQL：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("CREATE TABLE `article` (\n`id` int(10) NOT NULL AUTO_INCREMENT COMMENT 'int文章的唯一ID',\n`author` varchar(50) NOT NULL COMMENT '作者',\n`title` varchar(100) NOT NULL COMMENT '标题',\n`content` longtext NOT NULL COMMENT '文章的内容',\nPRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("blockquote",[n("p",[s._v("基础项目搭建")])]),s._v(" "),n("p",[s._v("1、建一个 SpringBoot 项目配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("spring:\ndatasource:\n  username: root\n  password: 123456\n  #?serverTimezone=UTC解决时区的报错\n  url: jdbc:mysql://localhost:3306/springboot?serverTimezone=UTC&useUnicode=true&characterEncoding=utf-8\n  driver-class-name: com.mysql.cj.jdbc.Driver\n<resources>\n   <resource>\n       <directory>src/main/java</directory>\n       <includes>\n           <include>**/*.xml</include>\n       </includes>\n       <filtering>true</filtering>\n   </resource>\n</resources>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("2、实体类：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//文章类\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Article implements Serializable {\n\n   private int id; //文章的唯一ID\n   private String author; //作者名\n   private String title; //标题\n   private String content; //文章的内容\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("3、mapper 接口：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("@Mapper\n@Repository\npublic interface ArticleMapper {\n   //查询所有的文章\n   List<Article> queryArticles();\n\n   //新增一个文章\n   int addArticle(Article article);\n\n   //根据文章id查询文章\n   Article getArticleById(int id);\n\n   //根据文章id删除文章\n   int deleteArticleById(int id);\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[n("strong",[s._v("既然已经提供了 myBatis 的映射配置文件，自然要告诉 spring boot 这些文件的位置")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mybatis:\nmapper-locations: classpath:com/kuang/mapper/*.xml\ntype-aliases-package: com.kuang.pojo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("编写一个 Controller 测试下，是否 ok；")]),s._v(" "),n("h3",{attrs:{id:"_16-4、文章编辑整合-重点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-4、文章编辑整合-重点"}},[s._v("#")]),s._v(" 16.4、文章编辑整合（重点）")]),s._v(" "),n("p",[s._v("1、导入 editor.md 资源 ，删除多余文件")]),s._v(" "),n("p",[s._v("2、编辑文章页面 editor.html、需要引入 jQuery；")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<!DOCTYPE html>\n<html class="x-admin-sm" lang="zh" xmlns:th="http://www.thymeleaf.org">\n\n<head>\n   <meta charset="UTF-8">\n   <title>秦疆\'Blog</title>\n   <meta >\n   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n   <meta  />\n   \x3c!--Editor.md--\x3e\n   <link rel="stylesheet" th:href="@{/editormd/css/editormd.css}"/>\n   <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />\n</head>\n\n<body>\n\n<div class="layui-fluid">\n   <div class="layui-row layui-col-space15">\n       <div class="layui-col-md12">\n           \x3c!--博客表单--\x3e\n           <form >\n               <div>\n                  标题：<input type="text" >\n               </div>\n               <div>\n                  作者：<input type="text" >\n               </div>\n               <div id="article-content">\n                   <textarea > </textarea>\n               </div>\n           </form>\n\n       </div>\n   </div>\n</div>\n</body>\n\n\x3c!--editormd--\x3e\n<script th:src="@{/editormd/lib/jquery.min.js}"><\/script>\n<script th:src="@{/editormd/editormd.js}"><\/script>\n\n<script type="text/javascript">\n   var testEditor;\n\n   //window.onload = function(){ }\n   $(function() {\n       testEditor = editormd("article-content", {\n           width : "95%",\n           height : 400,\n           syncScrolling : "single",\n           path : "../editormd/lib/",\n           saveHTMLToTextarea : true,    // 保存 HTML 到 Textarea\n           emoji: true,\n           theme: "dark",//工具栏主题\n           previewTheme: "dark",//预览主题\n           editorTheme: "pastel-on-dark",//编辑主题\n           tex : true,                   // 开启科学公式TeX语言支持，默认关闭\n           flowChart : true,             // 开启流程图支持，默认关闭\n           sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,\n           //图片上传\n           imageUpload : true,\n           imageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],\n           imageUploadURL : "/article/file/upload",\n           onload : function() {\n               console.log(\'onload\', this);\n          },\n           /*指定需要显示的功能按钮*/\n           toolbarIcons : function() {\n               return ["undo","redo","|",\n                   "bold","del","italic","quote","ucwords","uppercase","lowercase","|",\n                   "h1","h2","h3","h4","h5","h6","|",\n                   "list-ul","list-ol","hr","|",\n                   "link","reference-link","image","code","preformatted-text",\n                   "code-block","table","datetime","emoji","html-entities","pagebreak","|",\n                   "goto-line","watch","preview","fullscreen","clear","search","|",\n                   "help","info","releaseIcon", "index"]\n          },\n\n           /*自定义功能按钮，下面我自定义了2个，一个是发布，一个是返回首页*/\n           toolbarIconTexts : {\n               releaseIcon : "<span bgcolor=\\"gray\\">发布</span>",\n               index : "<span bgcolor=\\"red\\">返回首页</span>",\n          },\n\n           /*给自定义按钮指定回调函数*/\n           toolbarHandlers:{\n               releaseIcon : function(cm, icon, cursor, selection) {\n                   //表单提交\n                   mdEditorForm.method = "post";\n                   mdEditorForm.action = "/article/addArticle";//提交至服务器的路径\n                   mdEditorForm.submit();\n              },\n               index : function(){\n                   window.location.href = \'/\';\n              },\n          }\n      });\n  });\n<\/script>\n\n</html>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br")])]),n("p",[s._v("3、编写 Controller，进行跳转，以及保存文章")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Controller\n@RequestMapping("/article")\npublic class ArticleController {\n\n   @GetMapping("/toEditor")\n   public String toEditor(){\n       return "editor";\n  }\n   \n   @PostMapping("/addArticle")\n   public String addArticle(Article article){\n       articleMapper.addArticle(article);\n       return "editor";\n  }\n   \n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("blockquote",[n("p",[s._v("图片上传问题")])]),s._v(" "),n("p",[s._v("1、前端 js 中添加配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//图片上传\nimageUpload : true,\nimageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],\nimageUploadURL : "/article/file/upload", // //这个是上传图片时的访问地址\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("2、后端请求，接收保存这个图片, 需要导入 FastJson 的依赖！")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//博客图片上传问题\n@RequestMapping("/file/upload")\n@ResponseBody\npublic JSONObject fileUpload(@RequestParam(value = "editormd-image-file", required = true) MultipartFile file, HttpServletRequest request) throws IOException {\n   //上传路径保存设置\n\n   //获得SpringBoot当前项目的路径：System.getProperty("user.dir")\n   String path = System.getProperty("user.dir")+"/upload/";\n\n   //按照月份进行分类：\n   Calendar instance = Calendar.getInstance();\n   String month = (instance.get(Calendar.MONTH) + 1)+"月";\n   path = path+month;\n\n   File realPath = new File(path);\n   if (!realPath.exists()){\n       realPath.mkdir();\n  }\n\n   //上传文件地址\n   System.out.println("上传文件保存地址："+realPath);\n\n   //解决文件名字问题：我们使用uuid;\n   String filename = "ks-"+UUID.randomUUID().toString().replaceAll("-", "");\n   //通过CommonsMultipartFile的方法直接写文件（注意这个时候）\n   file.transferTo(new File(realPath +"/"+ filename));\n\n   //给editormd进行回调\n   JSONObject res = new JSONObject();\n   res.put("url","/upload/"+month+"/"+ filename);\n   res.put("success", 1);\n   res.put("message", "upload success!");\n\n   return res;\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("p",[s._v("3、解决文件回显显示的问题，设置虚拟目录映射！在我们自己拓展的 MvcConfig 中进行配置即可！")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@Configuration\npublic class MyMvcConfig implements WebMvcConfigurer {\n\n   // 文件保存在真实目录/upload/下，\n   // 访问的时候使用虚路径/upload，比如文件名为1.png，就直接/upload/1.png就ok了。\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler("/upload/**")\n          .addResourceLocations("file:"+System.getProperty("user.dir")+"/upload/");\n  }\n\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("blockquote",[n("p",[s._v("表情包问题")])]),s._v(" "),n("p",[s._v("自己手动下载，emoji 表情包，放到图片路径下：")]),s._v(" "),n("p",[s._v("修改 editormd.js 文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// Emoji graphics files url path\neditormd.emoji     = {\n   path : "../editormd/plugins/emoji-dialog/emoji/",\n   ext   : ".png"\n};\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_16-5、文章展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-5、文章展示"}},[s._v("#")]),s._v(" 16.5、文章展示")]),s._v(" "),n("p",[s._v("1、Controller 中增加方法")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('@GetMapping("/{id}")\npublic String show(@PathVariable("id") int id,Model model){\n   Article article = articleMapper.getArticleById(id);\n   model.addAttribute("article",article);\n   return "article";\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("2、编写页面 article.html")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<!DOCTYPE html>\n<html lang="en" xmlns:th="http://www.thymeleaf.org">\n<head>\n   <meta charset="UTF-8">\n   <meta >\n   <title th:text="${article.title}"></title>\n</head>\n<body>\n\n<div>\n   \x3c!--文章头部信息：标题，作者，最后更新日期，导航--\x3e\n   <h2 style="margin: auto 0" th:text="${article.title}"></h2>\n  作者：<span style="float: left" th:text="${article.author}"></span>\n   \x3c!--文章主体内容--\x3e\n   <div id="doc-content">\n       <textarea style="display:none;" placeholder="markdown" th:text="${article.content}"></textarea>\n   </div>\n\n</div>\n\n<link rel="stylesheet" th:href="@{/editormd/css/editormd.preview.css}" />\n<script th:src="@{/editormd/lib/jquery.min.js}"><\/script>\n<script th:src="@{/editormd/lib/marked.min.js}"><\/script>\n<script th:src="@{/editormd/lib/prettify.min.js}"><\/script>\n<script th:src="@{/editormd/lib/raphael.min.js}"><\/script>\n<script th:src="@{/editormd/lib/underscore.min.js}"><\/script>\n<script th:src="@{/editormd/lib/sequence-diagram.min.js}"><\/script>\n<script th:src="@{/editormd/lib/flowchart.min.js}"><\/script>\n<script th:src="@{/editormd/lib/jquery.flowchart.min.js}"><\/script>\n<script th:src="@{/editormd/editormd.js}"><\/script>\n\n<script type="text/javascript">\n   var testEditor;\n   $(function () {\n       testEditor = editormd.markdownToHTML("doc-content", {//注意：这里是上面DIV的id\n           htmlDecode: "style,script,iframe",\n           emoji: true,\n           taskList: true,\n           tocm: true,\n           tex: true, // 默认不解析\n           flowChart: true, // 默认不解析\n           sequenceDiagram: true, // 默认不解析\n           codeFold: true\n      });});\n<\/script>\n</body>\n</html>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br")])]),n("p",[s._v("重启项目，访问进行测试！大功告成！")]),s._v(" "),n("p",[s._v("小结：")]),s._v(" "),n("p",[s._v("有了富文本编辑器，我们网站的功能就会又多一项，大家到了这里完全可以有时间写一个属于自己的博客网站了，根据所学的知识是完全没有任何问题的！")]),s._v(" "),n("h3",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])}),[],!1,null,null,null);n.default=e.exports}}]);